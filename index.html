<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vehicle Fuel Cost Comparison Tool</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="topbar">
        <h1>Vehicle Fuel Cost Comparison</h1>
    </div>
    <div id="container">
        
        
        <!-- Rates Box -->
        <div class="box" id="ratesBox">
            <h2>Rates</h2>
            <label for="gasPrice">Gas Price ($/gallon)</label>
            <input type="number" id="gasPrice" placeholder="e.g., 3.20">
            
            <label for="electricPrice">Electric Price ($/kWh)</label>
            <input type="number" id="electricPrice" placeholder="e.g., 0.19">
        </div>
        
        <!-- Usage Box -->
        <div class="box" id="usageBox">
            <h2>Usage</h2>
            <label for="milesYear">Miles per Year</label>
            <input type="number" id="milesYear" placeholder="e.g., 12000">
            
            <label for="yearsOwnership">Years of Ownership</label>
            <input type="number" id="yearsOwnership" placeholder="e.g., 5">
        </div>
        
        <!-- Vehicle #1 Box -->
        <div class="box" id="vehicle1Box">
            <h2>Vehicle #1</h2>
            <select id="vehicle1Type">
                <option value="gas">Gas Vehicle</option>
                <option value="electric">Electric Vehicle</option>
            </select>
            <label for="vehicle1Efficiency">Efficiency</label>
            <input type="number" id="vehicle1Efficiency" placeholder="MPG or Mi/kWh">
        </div>
        
        <!-- Vehicle #2 Box -->
        <div class="box" id="vehicle2Box">
            <h2>Vehicle #2</h2>
            <select id="vehicle2Type">
                <option value="gas">Gas Vehicle</option>
                <option value="electric">Electric Vehicle</option>
            </select>
            <label for="vehicle2Efficiency">Efficiency</label>
            <input type="number" id="vehicle2Efficiency" placeholder="MPG or Mi/kWh">
        </div>
        
        <!-- Calculation and Output Section -->
        <button id="calculate">Calculate</button>
        
        <div id="costGraph"></div>
        
                    <!-- Include the ApexCharts library -->
        <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

        <!-- Your existing HTML code... -->
        <div class="outputBox" id="output">
            <div id="mpgEquivalent"></div>
            <div id="chart"></div>
        </div>

        <script>
        // Define your chart options and series
        var options = {
            plotOptions: {
                bar: {
                    distributed: true
                }
            },
            chart: {
                type: 'bar'
            },
            series: [{
                name: 'Vehicle Efficiency',
                data: [0, 0] // Initialize with no data
            }],
            xaxis: {
                categories: ['Vehicle 1', 'Vehicle 2'],
                labels: {
                    style: {
                        fontSize: '20px'
                    }
                }
            },
            yaxis: {
                title: {
                    text: 'Efficiency (MPG or Mi/kWh)',
                    style: {
                        fontSize: '12px'
                    }
                },
                labels: {
                    style: {
                        fontSize: '18px'
                    }
                }
            },
            dataLabels: {
                enabled: true,
                style: {
                    fontSize: '40px'
                }
            },
            colors: ["#304758", "#eb8034"]
        }

        // Use the ApexCharts object to create a new chart
        var chart = new ApexCharts(document.querySelector("#chart"), options);
        chart.render();

        // Handle the calculate button click event
        document.getElementById('calculate').addEventListener('click', function() {
            // Get the efficiency values from the input fields
            var vehicle1Efficiency = document.getElementById('vehicle1Efficiency').value;
            var vehicle2Efficiency = document.getElementById('vehicle2Efficiency').value;

            // Check if the selected vehicle is an Electric Car
            var vehicle1Type = document.getElementById('vehicle1Type').value;
            var vehicle2Type = document.getElementById('vehicle2Type').value;
            var electricPrice = parseFloat(document.getElementById('electricPrice').value);
            var gasPrice = parseFloat(document.getElementById('gasPrice').value);

            if (vehicle1Type === 'electric') {
                vehicle1Efficiency = vehicle1Efficiency/(electricPrice/gasPrice); // Use the calculated electricCarMPGe value
            }
            if (vehicle2Type === 'electric') {
                vehicle2Efficiency = vehicle2Efficiency/(electricPrice/gasPrice); // Use the calculated electricCarMPGe value
            }

             // Set the color based on the type of vehicle
            var vehicle1Color = vehicle1Type === 'electric' ? '#346beb' : '#eb8034';
            var vehicle2Color = vehicle2Type === 'electric' ? '#346beb' : '#eb8034';

            // Update the chart data with the new efficiency values
            chart.updateSeries([{
                data: [vehicle1Efficiency, vehicle2Efficiency]
            }]);

            // Update the chart colors
            chart.updateOptions({
                colors: [vehicle1Color, vehicle2Color]
            });
        });
        </script>
            <script src="script.js"></script>         
        </div>
    </div>
    
</body>
</html>
